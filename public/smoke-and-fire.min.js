!function i(o,u,l){function s(t,e){if(!u[t]){if(!o[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(d)return d(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=u[t]={exports:{}};o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,i,o,u,l)}return u[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,t,a){var n=new THREE.Clock,r=0,i=2;a.setSpeed=function(e){i=Number(e)};a.time=function(){return r},a.tick=function(){return r+=n.getDelta()*i}},{}],2:[function(e,t,a){var p=e("./clock"),h=e("./shaders"),n=(e("./renderer"),new THREE.XHRLoader),l=a.boundedPlane=function(e,t,a){t=t||32,a=a||32;for(var n=(e[2]-e[0])/(t-1),r=(e[3]-e[1])/(a-1),i=new THREE.PlaneGeometry(1,1,t-1,a-1),o=0;o<a;o++)for(var u=0;u<t;u++){var l=o*t+u;i.vertices[l].x=e[0]+n*u,i.vertices[l].y=e[1]+r*o,i.vertices[l].z=0}return i};a.load2DGrid=function(e,v,t,a){n.load(e,function(e){var t={};t.data=JSON.parse(e);var a=t.data[0].data,n=t.data[0].factor||1,r=t.data[0].boundary[1]-t.data[0].boundary[0],i=t.data[0].boundary[3]-t.data[0].boundary[2],o=a.length,u=a[0].length,l=r/(u-1),s=i/(o-1);t.geometry=new THREE.PlaneGeometry(r,i,u-1,o-1),t.geometry.dynamic=!0;for(var d=0;d<o;d++)for(var m=0;m<u;m++){var c=d*u+m,f=a[d][m]*n;t.geometry.vertices[c].x=t.data[0].boundary[0]+l*m,t.geometry.vertices[c].y=t.data[0].boundary[2]+s*d,t.geometry.vertices[c].z=f}t.shader=h.ubershader,t.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(t.shader.uniforms),vertexShader:t.shader.vertexShader,fragmentShader:t.shader.fragmentShader,depthTest:!1,transparent:!0,blending:THREE.CustomBlending,blendEquation:THREE.MaxEquation,side:THREE.DoubleSide}),t.mesh=new THREE.Mesh(t.geometry,t.material),t.mesh.frustumCulled=!1,t.ready=!0,v(t)},function(e){"function"==typeof t&&t(e)},function(e){"function"==typeof a&&a(e)})},a.loadGeoImage=function(o,u,t,a){n.load(o,function(e){var a={},t=JSON.parse(e),n=t.corners_lon_lat.upper_left.concat(t.corners_lon_lat.lower_right);a.geometry=l(n);var r=o.split("/");r.pop(),r.push(t.filename),r=r.join("/");var i=THREE.ImageUtils.loadTexture(r);i.minFilter=THREE.NearestFilter,a.imageUrls=["IDE00435.201510272140.jpg","IDE00435.201510272150.jpg","IDE00435.201510272200.jpg","IDE00435.201510272210.jpg","IDE00435.201510272220.jpg","IDE00435.201510272230.jpg","IDE00435.201510272240.jpg","IDE00435.201510272250.jpg","IDE00435.201510272300.jpg","IDE00435.201510272310.jpg","IDE00435.201510272320.jpg","IDE00435.201510272330.jpg","IDE00435.201510272340.jpg","IDE00435.201510272350.jpg","IDE00435.201510280000.jpg","IDE00435.201510280010.jpg","IDE00435.201510280020.jpg","IDE00435.201510280030.jpg","IDE00435.201510280040.jpg","IDE00435.201510280050.jpg","IDE00435.201510280100.jpg","IDE00435.201510280110.jpg","IDE00435.201510280120.jpg","IDE00435.201510280130.jpg","IDE00435.201510280140.jpg","IDE00435.201510280150.jpg","IDE00435.201510280200.jpg","IDE00435.201510280210.jpg","IDE00435.201510280220.jpg","IDE00435.201510280230.jpg","IDE00435.201510280250.jpg","IDE00435.201510280300.jpg","IDE00435.201510280310.jpg","IDE00435.201510280320.jpg","IDE00435.201510280330.jpg","IDE00435.201510280340.jpg","IDE00435.201510280350.jpg","IDE00435.201510280400.jpg","IDE00435.201510280410.jpg","IDE00435.201510280420.jpg","IDE00435.201510280430.jpg","IDE00435.201510280440.jpg","IDE00435.201510280450.jpg","IDE00435.201510280500.jpg","IDE00435.201510280510.jpg","IDE00435.201510280520.jpg"],a.images=[],setTimeout(function(){a.imageUrls.forEach(function(e){var t=THREE.ImageUtils.loadTexture("images/himawari/"+e);t.minFilter=THREE.NearestFilter,a.images.push(t)})},0),a.shader=h.ubershader,a.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(a.shader.uniforms),vertexShader:a.shader.vertexShader,fragmentShader:h.image.fragmentShader,depthTest:!1,transparent:!0,blending:THREE.CustomBlending,blendEquation:THREE.MaxEquation,side:THREE.DoubleSide}),a.material.uniforms.map.value=i,a.mesh=new THREE.Mesh(a.geometry,a.material),a.mesh.frustumCulled=!1,a.ready=!0,u(a)},function(e){"function"==typeof t&&t(e)},function(e){"function"==typeof a&&a(e)})},a.loadPoints=function(e,l,t,a){var s={};n.load(e,function(e){s.data=JSON.parse(e);var t=s.data[0].data;s.length=t.length;var a=s.data[0].factor,n=new THREE.Geometry;s.shader=h.ubershader,s.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(s.shader.uniforms),vertexShader:s.shader.vertexShader,fragmentShader:h.pointcloud.fragmentShader,transparent:!0,depthTest:!1}),s.material.uniforms.size.value=3,s.material.uniforms.time.value=time;for(var r=0;r<s.length;r++){if(r>=t.length)var i=0,o=90,u=0;else i=t[r][0]*a,o=t[r][1]*a,u=t[r][2]*a;n.vertices.push(new THREE.Vector3(i,o,u))}s.mesh=new THREE.PointCloud(n,s.material),s.mesh.frustumCulled=!1,s.ready=!0,l(s)},function(e){"function"==typeof t&&t(e)},function(e){"function"==typeof a&&a(e)})},a.update2DGrid=function(e){if(e.ready){for(var t=p.time(),a=Math.floor(t)%e.data.length,n=Math.ceil(t)%e.data.length,r=Math.ceil(t)-t,i=e.data[a].data,o=e.data[n].data,u=e.data[a].factor,l=e.data[n].factor,s=i.length,d=i[0].length,m=0;m<s;m++)for(var c=0;c<d;c++){var f=m*d+c,v=i[m][c]*r*u+o[m][c]*(1-r)*l;e.mesh.geometry.vertices[f].z=v}e.mesh.geometry.verticesNeedUpdate=!0}},a.updatePoints=function(e){if(e.ready){var t=p.time();e.material.uniforms.time.value=t;for(var a=Math.floor(t)%e.data.length,n=e.data[a].data,r=e.data[a].factor,i=(Math.ceil(t),0);i<e.length;i++)if(i>=n.length)e.mesh.geometry.vertices[i].x=0,e.mesh.geometry.vertices[i].y=90,e.mesh.geometry.vertices[i].z=0;else{var o=n[i][0]*r,u=n[i][1]*r,l=n[i][2]*r;e.mesh.geometry.vertices[i].x=o,e.mesh.geometry.vertices[i].y=u,e.mesh.geometry.vertices[i].z=l}e.mesh.geometry.verticesNeedUpdate=!0}},a.updateGeoImage=function(e){if(e.ready){var t=p.time(),a=Math.floor(t)%e.images.length;e.material.uniforms.map.value=e.images[a],e.material.uniforms.map.needsUpdate=!0}}},{"./clock":1,"./renderer":6,"./shaders":8}],3:[function(e,t,a){var d=e("./shaders");a.makeBoundary=function(e){var t,a,n=new THREE.BufferGeometry,r=[];for(a=e[2];a<e[3];a+=(e[3]-e[2])/32)r.push([e[0],a,0]);for(t=e[0];t<e[1];t+=(e[1]-e[0])/32)r.push([t,e[3],0]);for(a=e[3];a>e[2];a-=(e[3]-e[2])/32)r.push([e[1],a,0]);for(t=e[1];t>e[0];t-=(e[1]-e[0])/32)r.push([t,e[2],0]);r.push([e[0],e[2],0]);var i=d.ubershader,o=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,linewidth:2,depthTest:!1,transparent:!0,wireframe:!0});o.uniforms.r.value=151/255,o.uniforms.g.value=252/255,o.uniforms.b.value=151/255,o.uniforms.staticValue.value=1;var u=r.flatMap(function(e,t){return 0===t||t===r.length-1?[t]:[t,t,t]}),l=Float32Array.from(r.flat());n.addAttribute("position",new THREE.Float32BufferAttribute(l,3)),n.setIndex(new THREE.BufferAttribute(new Uint16Array(u),1)),n.computeBoundingSphere();var s=new THREE.Line(n,o);return s.frustumCulled=!1,s.ready=!0,s}},{"./shaders":8}],4:[function(e,t,a){var n,r=a.GUI=document.getElementById("loading");a.toDownload=function(e){for(var t=0;t<e;t++){var a=document.createElement("div");a.classList.add("loading-bar"),a.style.width="0%",a.style.opacity="100%",r.appendChild(a)}},a.update=function(e,t){r.children[e].style.width=t+"%"},a.complete=function(e){r.children[e].style.width="100%";for(var t=0;t<r.children.length;t++)if("100%"!=r.children[t].style.width)return;r.style.opacity=0,window.setTimeout(function(){r.style.display="none"},1e3),"function"==typeof n&&n()},a.then=function(e){n=e}},{}],5:[function(e,t,a){var n=e("./renderer"),r=e("./shaders"),i=new THREE.XHRLoader;a.earth=function(){i.load("data/land-topo.json",function(e){var o={};o.data=JSON.parse(e),o.mesh=new THREE.Object3D,o.shader=r.ubershader,o.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(o.shader.uniforms),vertexShader:o.shader.vertexShader,fragmentShader:o.shader.fragmentShader,depthTest:!1,transparent:!0,wireframe:!0}),o.material.uniforms.staticValue.value=1,topojson.feature(o.data,o.data.objects.land).features.forEach(function(e){e.geometry.coordinates.forEach(function(e){var t=new THREE.BufferGeometry,a=e.flatMap(function(e){return[e[0],e[1],0]}),n=e.flatMap(function(e,t){return 0===t||t===a.length-1?[t]:[t,t,t]}),r=Float32Array.from(a);t.addAttribute("position",new THREE.Float32BufferAttribute(r,3)),t.setIndex(new THREE.BufferAttribute(new Uint16Array(n),1)),t.computeBoundingSphere();var i=new THREE.Line(t,o.material);i.frustumCulled=!1,o.mesh.add(i)})}),o.ready=!0,n.add(o.mesh),n.setVisibleDistance(o,200,1e6)}),i.load("data/australia-topo.json",function(e){var o={};o.data=JSON.parse(e),o.mesh=new THREE.Object3D,o.shader=r.ubershader,o.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(o.shader.uniforms),vertexShader:o.shader.vertexShader,fragmentShader:o.shader.fragmentShader,depthTest:!1,transparent:!0,wireframe:!0}),o.material.uniforms.staticValue.value=1,o.material.uniforms.opacity.value=0,topojson.feature(o.data,o.data.objects.australia).features.forEach(function(e){e.geometry.coordinates.forEach(function(e){e.forEach(function(e){var t=new THREE.BufferGeometry,a=e.flatMap(function(e){return[e[0],e[1],0]}),n=e.flatMap(function(e,t){return 0===t||t===a.length-1?[t]:[t,t,t]}),r=Float32Array.from(a);t.addAttribute("position",new THREE.Float32BufferAttribute(r,3)),t.setIndex(new THREE.BufferAttribute(new Uint16Array(n),1)),t.computeBoundingSphere();var i=new THREE.Line(t,o.material);i.frustumCulled=!1,o.mesh.add(i)})})}),o.ready=!0,n.add(o.mesh),n.setVisibleDistance(o,120,250)}),i.load("data/nsw-topo.json",function(e){var o={};o.data=JSON.parse(e),o.mesh=new THREE.Object3D,o.shader=r.ubershader,o.material=new THREE.ShaderMaterial({uniforms:THREE.UniformsUtils.clone(o.shader.uniforms),vertexShader:o.shader.vertexShader,fragmentShader:o.shader.fragmentShader,depthTest:!1,transparent:!0,wireframe:!0}),o.material.uniforms.staticValue.value=1,o.material.uniforms.opacity.value=0,topojson.feature(o.data,o.data.objects.nsw).features.forEach(function(e){e.geometry.coordinates.forEach(function(e){var t=new THREE.BufferGeometry,a=e.flatMap(function(e){return[e[0],e[1],0]}),n=e.flatMap(function(e,t){return 0===t||t===a.length-1?[t]:[t,t,t]}),r=Float32Array.from(a);t.addAttribute("position",new THREE.Float32BufferAttribute(r,3)),t.setIndex(new THREE.BufferAttribute(new Uint16Array(n),1)),t.computeBoundingSphere();var i=new THREE.Line(t,o.material);i.frustumCulled=!1,o.mesh.add(i)})}),o.ready=!0,n.add(o.mesh),n.setVisibleDistance(o,5,130)})}},{"./renderer":6,"./shaders":8}],6:[function(e,t,a){var u=Math.PI/2,l={x:0,y:0},n={x:0,y:0},s={x:0,y:0},d={x:0,y:0},m=0,c={x:0,y:0},f=1e3,r=1e3,i=new THREE.Vector3(0,0,0),v=a.container=document.getElementById("container"),o={w:v.offsetWidth||window.innerWidth,h:v.offsetHeight||window.innerHeight},p=new THREE.PerspectiveCamera(30,o.w/o.h,.1,1e3),h=a.scene=new THREE.Scene,g=a.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0});a.add=function(e){h.add(e)},a.render=function(e,t){p.position.z=f,g.setSize(o.w,o.h),g.domElement.style.position="absolute",v.appendChild(g.domElement),v.addEventListener("mousedown",y,!1),v.addEventListener("touchstart",b,!1),v.addEventListener("touchmove",x,!1),window.addEventListener("mousewheel",j,!1),window.addEventListener("DOMMouseScroll",j,!1),window.addEventListener("resize",I,!1),e(),function e(){requestAnimationFrame(e),t(),E.forEach(function(e){if(e.ready){var t,a=Math.min(1.75*e.LODDistance[0],e.LODDistance[1]),n=1.75*e.LODDistance[1];if(f<e.LODDistance[0]||n<=f)t=0;else if(f>=e.LODDistance[0]&&f<a)t=(f-e.LODDistance[0])/(a-e.LODDistance[0]);else if(a<=f&&f<e.LODDistance[1])t=1;else{if(!(f>=e.LODDistance[1]&&f<n))return void console.warn("Level of details glitched :[");t=1-(f-e.LODDistance[1])/(n-e.LODDistance[1])}e.material.uniforms?e.material.uniforms.opacity.value=t:e.material.opacity=t}}),f+=.075*(r-f),n.x+=.1*(c.x-n.x),n.y+=.1*(c.y-n.y),p.position.x=f*Math.sin(n.x)*Math.cos(n.y),p.position.y=f*Math.sin(n.y),p.position.z=f*Math.cos(n.x)*Math.cos(n.y),p.lookAt(i),g.render(h,p)}()};var E=[];a.setVisibleDistance=function(e,t,a){e.LODDistance=[t,a],E.push(e)};function y(e){e.preventDefault(),v.addEventListener("mousemove",w,!1),v.addEventListener("mouseup",D,!1),v.addEventListener("mouseout",D,!1),s.x=-e.clientX,s.y=e.clientY,d.x=c.x,d.y=c.y,v.style.cursor="move"}function w(e){l.x=-e.clientX,l.y=e.clientY;var t=f*f/1e4;c.x=d.x+1e-4*(l.x-s.x)*t,c.y=d.y+1e-4*(l.y-s.y)*t,c.y=c.y>u?u:c.y,c.y=c.y<-u?-u:c.y}function D(e){v.removeEventListener("mousemove",w,!1),v.removeEventListener("mouseup",D,!1),v.removeEventListener("mouseout",D,!1),v.style.cursor="auto"}function b(e){if(1===e.targetTouches.length){var t=e.targetTouches[0];s.x=-t.pageX,s.y=t.pageY,d.x=c.x,d.y=c.y}else if(2===e.targetTouches.length){var a=e.targetTouches[0],n=e.targetTouches[1];m=Math.sqrt(Math.pow(n.pageX-a.pageX,2)+Math.pow(n.pageY-a.pageY,2))}}function x(e){if(1===e.targetTouches.length){if(0<m)return;var t=e.targetTouches[0];l.x=-t.pageX,l.y=t.pageY;var a=f*f/5e3;c.x=d.x+1e-4*(l.x-s.x)*a,c.y=d.y+1e-4*(l.y-s.y)*a,c.y=c.y>u?u:c.y,c.y=c.y<-u?-u:c.y,v.addEventListener("touchend",T,!1)}else if(2===e.targetTouches.length){var n=e.targetTouches[0],r=e.targetTouches[1],i=Math.sqrt(Math.pow(r.pageX-n.pageX,2)+Math.pow(r.pageY-n.pageY,2)),o=i-m;m=i,H(o),v.addEventListener("touchend",T,!1)}e.preventDefault()}function T(e){0===e.targetTouches.length&&(v.removeEventListener("touchend",T,!1),m=0)}function I(e){var t=o.w=v.offsetWidth||window.innerWidth,a=o.h=v.offsetHeight||window.innerHeight;p.aspect=t/a,p.updateProjectionMatrix(),g.setSize(t,a)}var j=a.onMouseWheel=function(e){return e.preventDefault(),H(.17*(e.wheelDeltaY||e.wheelDelta||10*-e.detail)),!1};function H(e){r=(r=500<(r-=e)?500:r)<108?108:r}a.zoomTo=function(e,t,a){r=e,c.x=t,c.y=a},a.debug=function(e,t){var a=document.getElementById("debug");t?a.innerHTML=JSON.stringify(e)+"<br>":a.innerHTML+=JSON.stringify(e)+"<br>"},a.queryState=function(){return{camera:p,container:v,distance:f,distanceTarget:r,mouse:l,mouseOnDown:s,renderer:g,rotation:n,scene:h,target:c,targetOnDown:d}}},{}],7:[function(e,t,a){var n=e("./renderer"),r=a.objects=[];a.manage=function(e,t){"function"!=typeof undateFunc&&console.error("Update funtion not specified for "+e),r.push({object:e,update:t}),n.add(e.mesh)},a.update=function(){r.forEach(function(e){e.update(e.object)})}},{"./renderer":6}],8:[function(e,t,a){a.ubershader={uniforms:{map:{type:"t",value:null},time:{type:"f",value:0},opacity:{type:"f",value:1},radius:{type:"f",value:100},staticValue:{type:"f",value:0},normalValue:{type:"f",value:1},minValue:{type:"f",value:0},size:{type:"f",value:1},scale:{type:"f",value:0},r:{type:"f",value:1},g:{type:"f",value:1},b:{type:"f",value:1}},vertexShader:["uniform float radius, scale, size;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vPosition;","void main() {","float longitude = radians(position.x);","float latitude = radians(position.y);","vPosition = position;","vUv = uv;","float r = radius;","vec4 sphericalPosition = vec4( r * cos(latitude) * cos (longitude),","                               r * cos(latitude) * sin (longitude),","                               r * sin(latitude),","                               1.0 );","sphericalPosition.xyz = sphericalPosition.xzy;","sphericalPosition.x *= -1.0;","vNormal = normalize(normalMatrix * sphericalPosition.xyz);","vec4 mvPosition = modelViewMatrix * sphericalPosition;","gl_PointSize = (size + clamp(vPosition.z * scale, 0.0, 5.0)) * (100.0 / length(mvPosition.xyz));","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform float r, g, b, opacity;","uniform float normalValue, minValue, staticValue;","varying vec3 vNormal;","varying vec3 vPosition;","void main() {","float view = ( dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ) + 1.0 ) / 2.0;","float value = max(vPosition.z * step(minValue, vPosition.z), staticValue);","float normalisedValue = value / normalValue;","float cappedValue = clamp(normalisedValue, 0.0, 1.0);","gl_FragColor = vec4(vec3(r, g, b) * cappedValue, opacity * cappedValue) * view;","}"].join("\n")},a.pointcloud={fragmentShader:["uniform float r, g, b, opacity, time;","uniform float normalValue, minValue;","varying vec3 vNormal;","varying vec3 vPosition;","void main() {","float view = ( dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ) + 1.0 ) / 2.0;","float value = vPosition.z + minValue;","float normalisedValue = value / normalValue;","float cappedValue = clamp(normalisedValue, 0.0, 1.0);","float radial = smoothstep(0.0, 0.4, 1.0 - length(gl_PointCoord.xy * 2.0 - vec2(1.0)));","gl_FragColor = vec4(vec3(r, g, b) * cappedValue, opacity * radial) * view;","}"].join("\n")},a.image={fragmentShader:["uniform sampler2D map;","uniform float opacity, time;","varying vec3 vPosition;","varying vec3 vNormal;","varying vec2 vUv;","void main() {","float view = ( dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ) + 1.0 ) / 2.0;","vec4 colour = texture2D(map, vUv);","gl_FragColor = colour * view;","}"].join("\n")}},{}],9:[function(e,t,a){var r=e("./geo"),n=e("./clock"),i=e("./planet"),o=(e("./shaders"),e("./renderer")),u=e("./geoutils"),l=e("./loadingbar"),s=(new THREE.XHRLoader,{}),d={},m={},c={},f={},v={},p={},h={},g={},E=[],y=2.163,w={earth:{distance:500,x:.8121975,y:-.4883185},australia:{distance:250,x:.8121975,y:-.4883185},nsw:{distance:150,x:1.00182605,y:-.5796645},sydney:{distance:110,x:1.066858,y:-.5887605}};function D(e){o.zoomTo(w[e].distance,w[e].x,w[e].y)}var b=document.getElementById("time"),x=document.getElementById("tools"),T=document.getElementById("header"),I=document.getElementById("footer"),j=document.getElementById("focus"),H=document.getElementById("controls"),S=document.getElementById("show_PM25"),L=document.getElementById("show_inland"),R=document.getElementById("show_shipping"),V=document.getElementById("show_pointsources"),M=document.getElementById("start_presentation"),B=document.getElementById("show_dataBoundaries");o.render(function(){i.earth(),function(){var n;o.container.style.opacity=1,D("australia"),l.toDownload(9),M.addEventListener("click",function(e){var t=Object.keys(w),a=0;e.target.checked?n=window.setInterval(function(){D(t[++a%4])},6e4):window.clearInterval(n)}),j.addEventListener("change",function(e){D(e.target.value)}),V.addEventListener("click",function(e){s.mesh.visible=!!e.target.checked,g.mesh.visible=!e.target.checked}),S.addEventListener("click",function(e){m.mesh.visible=!!e.target.checked,c.mesh.visible=!!e.target.checked,f.mesh.visible=!!e.target.checked}),L.addEventListener("click",function(e){d.mesh.visible=!!e.target.checked}),R.addEventListener("click",function(e){v.mesh.visible=!!e.target.checked,p.mesh.visible=!!e.target.checked,h.mesh.visible=!!e.target.checked}),B.addEventListener("click",function(e){for(var t=0;t<E.length;t++)E[t].visible=!!e.target.checked}),r.load2DGrid("data/data-aus-PM25.json",function(e){(f=e).material.uniforms.r.value=42/255,f.material.uniforms.g.value=169/255,f.material.uniforms.b.value=252/255,f.material.uniforms.minValue.value=1.75,f.material.uniforms.normalValue.value=295;var t=u.makeBoundary(f.data[0].boundary);t.visible=!1,E.push(t),o.add(t),f.mesh.visible=!0,o.add(f.mesh),l.complete(0)},function(e){l.update(0,e.loaded/2955310*100)}),r.load2DGrid("data/data-nsw-3k-PM25.json",function(e){(m=e).material.uniforms.r.value=42/255,m.material.uniforms.g.value=169/255,m.material.uniforms.b.value=252/255,m.material.uniforms.minValue.value=1.75,m.material.uniforms.normalValue.value=295;var t=u.makeBoundary(m.data[0].boundary);t.visible=!1,E.push(t),o.add(t),m.mesh.visible=!0,o.add(m.mesh),l.complete(1)},function(e){l.update(1,e.loaded/2966131*100)}),r.load2DGrid("data/data-nsw-1k-PM25.json",function(e){(c=e).material.uniforms.r.value=42/255,c.material.uniforms.g.value=169/255,c.material.uniforms.b.value=252/255,c.material.uniforms.minValue.value=1.75,c.material.uniforms.normalValue.value=295;var t=u.makeBoundary(c.data[0].boundary);t.visible=!1,E.push(t),o.add(t),c.mesh.visible=!0,o.add(c.mesh),l.complete(2)},function(e){l.update(2,e.loaded/3010005*100)}),r.load2DGrid("data/data-aus-shipping.json",function(e){(h=e).material.uniforms.r.value=252/255,h.material.uniforms.g.value=252/255,h.material.uniforms.b.value=151/255,h.material.uniforms.minValue.value=.14,h.material.uniforms.normalValue.value=y,o.add(h.mesh),l.complete(3)},function(e){l.update(3,e.loaded/2508951*100)}),r.load2DGrid("data/data-nsw-3k-shipping.json",function(e){(v=e).material.uniforms.r.value=252/255,v.material.uniforms.g.value=252/255,v.material.uniforms.b.value=151/255,v.material.uniforms.minValue.value=.14,v.material.uniforms.normalValue.value=y,o.add(v.mesh),l.complete(4)},function(e){l.update(4,e.loaded/3157944*100)}),r.load2DGrid("data/data-nsw-1k-shipping.json",function(e){(p=e).material.uniforms.r.value=252/255,p.material.uniforms.g.value=252/255,p.material.uniforms.b.value=151/255,p.material.uniforms.minValue.value=.14,p.material.uniforms.normalValue.value=y,o.add(p.mesh),l.complete(5)},function(e){l.update(5,e.loaded/3320845*100)}),r.loadPoints("data/data-pointsources-shipping.json",function(e){(d=e).material.uniforms.r.value=252/255,d.material.uniforms.g.value=151/255,d.material.uniforms.b.value=151/255,d.material.uniforms.scale.value=1,d.material.uniforms.size.value=0,d.material.uniforms.minValue.value=1,o.add(d.mesh),l.complete(6)},function(e){l.update(6,e.loaded/521395*100)}),r.loadPoints("data/data-aus-pointsources.json",function(e){(s=e).material.uniforms.r.value=252/255,s.material.uniforms.g.value=252/255,s.material.uniforms.b.value=151/255,s.material.uniforms.scale.value=1,s.material.uniforms.size.value=0,s.material.uniforms.minValue.value=1,s.mesh.visible=!0,o.add(s.mesh),l.complete(7)},function(e){l.update(7,e.loaded/44250*100)}),r.loadPoints("data/data-pointsources-3k.json",function(e){(g=e).material.uniforms.r.value=252/255,g.material.uniforms.g.value=252/255,g.material.uniforms.b.value=151/255,g.material.uniforms.scale.value=1,g.material.uniforms.size.value=.25,g.material.uniforms.minValue.value=1,o.add(g.mesh),l.complete(8)},function(e){l.update(8,e.loaded/944791*100)})}()},function(){!function(){var e=o.queryState().distanceTarget,t=n.tick();if(f.ready){var a=Math.floor(t)%f.data.length;f.data[a].timestamp&&(b.timestamp=f.data[a].timestamp,b.innerHTML=moment(f.data[a].timestamp).format("LLLL"))}r.update2DGrid(f),r.update2DGrid(m),r.update2DGrid(c),r.update2DGrid(h),r.update2DGrid(v),r.update2DGrid(p),r.updatePoints(d),r.updatePoints(g),e<=w.sydney.distance?j.options[3].selected=!0:e<=w.nsw.distance?j.options[2].selected=!0:e<=w.australia.distance?j.options[1].selected=!0:j.options[0].selected=!0}()}),H.addEventListener("mousewheel",o.onMouseWheel),I.addEventListener("mousewheel",o.onMouseWheel),T.addEventListener("mousewheel",o.onMouseWheel),l.GUI.addEventListener("mousewheel",o.onMouseWheel);var k=!0,P=!0;window.addEventListener("keypress",function(e){var t=String.fromCharCode(e.which);"h"===t?(k=!k,H.style.opacity=k?0:1):"t"===t&&(P=!P,x.style.opacity=P?0:1)});var C=document.getElementById("tool-plume-min"),U=document.getElementById("tool-plume-min-display");C.value=U.textContent=.14,C.addEventListener("input",function(e){h.ready&&(h.material.uniforms.minValue.value=Number(e.target.value),v.material.uniforms.minValue.value=Number(e.target.value),p.material.uniforms.minValue.value=Number(e.target.value),U.textContent=e.target.value)});var N=document.getElementById("tool-plume"),O=document.getElementById("legend-plume-max"),z=document.getElementById("tool-plume-display");N.value=z.textContent=O.textContent=y,N.addEventListener("input",function(e){h.ready&&(h.material.uniforms.normalValue.value=Number(e.target.value),v.material.uniforms.normalValue.value=Number(e.target.value),p.material.uniforms.normalValue.value=Number(e.target.value),z.textContent=e.target.value,O.textContent=e.target.value)});var G=document.getElementById("tool-smoke-min"),A=document.getElementById("tool-smoke-min-display");G.value=A.textContent=1.75,G.addEventListener("input",function(e){f.ready&&(f.material.uniforms.minValue.value=Number(e.target.value),A.textContent=e.target.value)});var _=document.getElementById("tool-smoke"),F=document.getElementById("legend-pm25-max"),q=document.getElementById("tool-smoke-display");_.value=q.textContent=F.textContent=295,_.addEventListener("input",function(e){f.ready&&(f.material.uniforms.normalValue.value=Number(e.target.value),m.material.uniforms.normalValue.value=Number(e.target.value),c.material.uniforms.normalValue.value=Number(e.target.value),q.textContent=e.target.value,F.textContent=e.target.value)});var X=document.getElementById("tool-speed"),W=document.getElementById("tool-speed-display");X.addEventListener("input",function(e){n.setSpeed(e.target.value),W.textContent=e.target.value})},{"./clock":1,"./geo":2,"./geoutils":3,"./loadingbar":4,"./planet":5,"./renderer":6,"./shaders":8}]},{},[1,2,3,4,5,6,7,8,9]);
